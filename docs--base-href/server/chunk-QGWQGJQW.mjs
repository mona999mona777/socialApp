import './polyfills.server.mjs';
import{a as Z}from"./chunk-6Q4FAALD.mjs";import{j as q}from"./chunk-5Y6UKJOX.mjs";import{a as Q,b as R,c as N,d as O,i as G,k as $,l as j,m as z,o as Y}from"./chunk-ZWOSWUCK.mjs";import{a as K}from"./chunk-DIKRYFYL.mjs";import{c as H,d as J}from"./chunk-QYWQGVGL.mjs";import"./chunk-Y55FHL77.mjs";import{Ab as P,Bb as u,Db as m,Ib as M,Jb as A,Kb as c,Lb as h,Na as i,Sa as k,U as w,Y as B,ab as _,eb as x,ga as y,ha as v,ib as g,kc as L,lb as l,mb as a,nb as V,ob as D,pb as C,qb as E,rc as I,ta as T,tb as S,yb as b,zb as F}from"./chunk-EGVBZG6N.mjs";import"./chunk-VVCT4QZE.mjs";var U=["inputPassword"],W=["passIcon"],X=["inputPassword2"],ee=["passIcon2"],te=(e,d)=>({"bg-green-100":e,"bg-red-100":d}),se=(e,d)=>({"bg-green-100 border border-green-100":e,"bg-red-50 border border-red-500":d});function ne(e,d){e&1&&(l(0,"p",21),u(1),c(2,"translate"),a()),e&2&&(i(),m("",h(2,1,"change.password is required"),"."))}function ie(e,d){e&1&&(l(0,"p",21),u(1),c(2,"translate"),a()),e&2&&(i(),m(" ",h(2,1,"change.enter valid password. (8 char. at least one capital letter and on special letter)")," "))}function re(e,d){if(e&1&&(l(0,"div",13),_(1,ne,3,3,"p",21)(2,ie,3,3),a()),e&2){let s,r=E();i(),g(1,(s=r.changePassForm.get("password"))!=null&&s.getError("required")?1:(s=r.changePassForm.get("password"))!=null&&s.getError("pattern")?2:-1)}}function ae(e,d){e&1&&(l(0,"p",21),u(1),c(2,"translate"),a()),e&2&&(i(),m("",h(2,1,"change.newPassword is required"),"."))}function oe(e,d){e&1&&(l(0,"p",21),u(1),c(2,"translate"),a()),e&2&&(i(),m(" ",h(2,1,"change.enter valid password. (8 char. at least one capital letter and on special letter)")," "))}function le(e,d){if(e&1&&(l(0,"div",16),_(1,ae,3,3,"p",21)(2,oe,3,3),a()),e&2){let s,r=E();i(),g(1,(s=r.changePassForm.get("newPassword"))!=null&&s.getError("required")?1:(s=r.changePassForm.get("newPassword"))!=null&&s.getError("pattern")?2:-1)}}function de(e,d){e&1&&V(0,"span",18)}function pe(e,d){if(e&1&&(l(0,"p",19),u(1),a()),e&2){let s=E();i(),m(" ",s.messgerror," ")}}function ue(e,d){if(e&1&&(l(0,"p",20),u(1),a()),e&2){let s=E();i(),m(" ",s.messsuccess," ")}}var Fe=(()=>{class e{constructor(){this._AuthService=w(Z),this._FormBuilder=w(z),this._Router=w(q),this._PLATFORM_ID=w(T),this._MytranslateService=w(K),this._Renderer2=w(k),this.messgerror="",this.messsuccess="",this.isloading=!1,this.icon3="",this.icon4="",this.changePassForm=this._FormBuilder.group({password:[null,[R.required,R.pattern(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/)]],newPassword:[null,[R.required,R.pattern(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/)]]})}ngOnInit(){I(this._PLATFORM_ID)&&localStorage.getItem("socialAppDarkMode")!=null&&this._Renderer2.addClass(document.documentElement,"dark"),I(this._PLATFORM_ID)&&localStorage.getItem("lang")!=null&&this._MytranslateService.useChoiceLang()}changePassFormFunc(){this.changePassForm.valid?(this.isloading=!0,this.unsub=this._AuthService.changePassword(this.changePassForm.value).subscribe({next:s=>{this.isloading=!1,s.message=="success"&&(this.messsuccess=s.message,this.messgerror="",localStorage.setItem("socialAppToken",s.token),setTimeout(()=>{this._Router.navigate(["/user"])},1e3))},error:s=>{console.log(s),this.isloading=!1,this.messgerror=s.error.error,this.messsuccess=""}})):this.changePassForm.markAllAsTouched()}showPassword(){this.passIcon.nativeElement.classList.contains("fa-eye-slash")==!0?(this._Renderer2.removeClass(document.getElementById("pass"),"fa-eye-slash"),this._Renderer2.addClass(document.getElementById("pass"),"fa-eye"),this._Renderer2.removeAttribute(this.inputpassword.nativeElement,"type","password"),this._Renderer2.setAttribute(this.inputpassword.nativeElement,"type","text"),localStorage.setItem("icona3","fa-eye")):this.passIcon.nativeElement.classList.contains("fa-eye")==!0&&(this._Renderer2.removeClass(document.getElementById("pass"),"fa-eye"),this._Renderer2.addClass(document.getElementById("pass"),"fa-eye-slash"),this._Renderer2.removeAttribute(this.inputpassword.nativeElement,"type","text"),this._Renderer2.setAttribute(this.inputpassword.nativeElement,"type","password"),localStorage.setItem("icona3","fa-eye-slash"))}inputfunc(s){let r=s.target;r.value.length==0&&(this._Renderer2.removeClass(document.getElementById("pass"),"fa-eye-slash"),this._Renderer2.removeClass(document.getElementById("pass"),"fa-eye"),this._Renderer2.removeAttribute(this.inputpassword.nativeElement,"type","text"),this._Renderer2.setAttribute(this.inputpassword.nativeElement,"type","password")),r.value.length>0&&I(this._PLATFORM_ID)&&(localStorage.getItem("icona3")!=null&&(this.icon3=localStorage.getItem("icona3"),this.icon3=="fa-eye"&&(this._Renderer2.addClass(document.getElementById("pass"),"fa-eye"),this._Renderer2.removeAttribute(this.inputpassword.nativeElement,"type","password"),this._Renderer2.setAttribute(this.inputpassword.nativeElement,"type","text")),this.icon3=="fa-eye-slash"&&(this._Renderer2.addClass(document.getElementById("pass"),"fa-eye-slash"),this._Renderer2.removeAttribute(this.inputpassword.nativeElement,"type","text"),this._Renderer2.setAttribute(this.inputpassword.nativeElement,"type","password"))),localStorage.getItem("icona3")==null&&(this._Renderer2.addClass(document.getElementById("pass"),"fa-eye-slash"),this._Renderer2.removeAttribute(this.inputpassword.nativeElement,"type","text"),this._Renderer2.setAttribute(this.inputpassword.nativeElement,"type","password")))}showPassword2(){this.passIcon2.nativeElement.classList.contains("fa-eye-slash")==!0?(this._Renderer2.removeClass(document.getElementById("pass2"),"fa-eye-slash"),this._Renderer2.addClass(document.getElementById("pass2"),"fa-eye"),this._Renderer2.removeAttribute(this.inputpassword2.nativeElement,"type","password"),this._Renderer2.setAttribute(this.inputpassword2.nativeElement,"type","text"),localStorage.setItem("icona4","fa-eye")):this.passIcon2.nativeElement.classList.contains("fa-eye")==!0&&(this._Renderer2.removeClass(document.getElementById("pass2"),"fa-eye"),this._Renderer2.addClass(document.getElementById("pass2"),"fa-eye-slash"),this._Renderer2.removeAttribute(this.inputpassword2.nativeElement,"type","text"),this._Renderer2.setAttribute(this.inputpassword2.nativeElement,"type","password"),localStorage.setItem("icona4","fa-eye-slash"))}inputfunc2(s){let r=s.target;r.value.length==0&&(this._Renderer2.removeClass(document.getElementById("pass2"),"fa-eye-slash"),this._Renderer2.removeClass(document.getElementById("pass2"),"fa-eye"),this._Renderer2.removeAttribute(this.inputpassword2.nativeElement,"type","text"),this._Renderer2.setAttribute(this.inputpassword2.nativeElement,"type","password")),r.value.length>0&&I(this._PLATFORM_ID)&&(localStorage.getItem("icona4")!=null&&(this.icon4=localStorage.getItem("icona4"),this.icon4=="fa-eye"&&(this._Renderer2.addClass(document.getElementById("pass2"),"fa-eye"),this._Renderer2.removeAttribute(this.inputpassword2.nativeElement,"type","password"),this._Renderer2.setAttribute(this.inputpassword2.nativeElement,"type","text")),this.icon4=="fa-eye-slash"&&(this._Renderer2.addClass(document.getElementById("pass2"),"fa-eye-slash"),this._Renderer2.removeAttribute(this.inputpassword2.nativeElement,"type","text"),this._Renderer2.setAttribute(this.inputpassword2.nativeElement,"type","password"))),localStorage.getItem("icona4")==null&&(this._Renderer2.addClass(document.getElementById("pass2"),"fa-eye-slash"),this._Renderer2.removeAttribute(this.inputpassword2.nativeElement,"type","text"),this._Renderer2.setAttribute(this.inputpassword2.nativeElement,"type","password")))}ngOnDestroy(){this.unsub?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=B({type:e,selectors:[["app-forgetpassword"]],viewQuery:function(r,t){if(r&1&&(b(U,5),b(W,5),b(X,5),b(ee,5)),r&2){let n;F(n=P())&&(t.inputpassword=n.first),F(n=P())&&(t.passIcon=n.first),F(n=P())&&(t.inputpassword2=n.first),F(n=P())&&(t.passIcon2=n.first)}},standalone:!0,features:[M],decls:30,vars:26,consts:[["inputPassword",""],["passIcon",""],["inputPassword2",""],["passIcon2",""],[1,"dark:bg-[#1C1C1D]","w-full","h-[100vh]","pt-5","flex","justify-center","items-center"],[1,"border","border-sky-950","px-3","py-5","shadow","my-2","rounded-xl","w-1/2","mx-auto","dark:bg-[#1C1C1D]","dark:border","dark:border-gray-600"],[1,"text-slate-700","text-3xl","font-bold","underline","dark:text-white","py-4"],[3,"ngSubmit","formGroup"],[1,"my-4"],["id","input-fack",1,"bg-white","rounded"],[1,"rounded",3,"ngClass"],["id","password","type","password","formControlName","password",1,"w-[95%]","bg-transparent","inputp",3,"input","placeholder"],["id","pass",1,"fas","text-lg",3,"click"],["role","alert",1,"border","border-r-red-500","bg-red-200","rounded","text-red-700","p-3","my-2"],["id","newPassword","type","password","formControlName","newPassword",1,"w-[95%]","bg-transparent","inputp",3,"input","placeholder"],["id","pass2",1,"fas","text-lg",3,"click"],["role","alert",1,"bg-red-200","rounded","text-red-700","p-3","my-2"],["type","submit",1,"bg-blue-600","border","border-blue-600","py-3","px-7","text-slate-50","rounded","w-full","block"],[1,"fas","fa-spin","fa-spinner"],["role","alert",1,"text-center","bg-red-200","rounded","text-red-700","p-3","my-2","w-1/2","mx-auto"],["role","alert",1,"text-center","bg-green-200","rounded","text-green-700","p-3","my-2","w-1/2","mx-auto"],[1,"m-0"]],template:function(r,t){if(r&1){let n=D();l(0,"section",4)(1,"section",5)(2,"h2",6),u(3),c(4,"translate"),a(),l(5,"form",7),C("ngSubmit",function(){return y(n),v(t.changePassFormFunc())}),l(6,"div",8)(7,"div",9)(8,"div",10)(9,"input",11,0),c(11,"translate"),C("input",function(o){return y(n),v(t.inputfunc(o))}),a(),l(12,"i",12,1),C("click",function(){return y(n),v(t.showPassword())}),a()()(),_(14,re,3,1,"div",13),a(),l(15,"div",8)(16,"div",9)(17,"div",10)(18,"input",14,2),c(20,"translate"),C("input",function(o){return y(n),v(t.inputfunc2(o))}),a(),l(21,"i",15,3),C("click",function(){return y(n),v(t.showPassword2())}),a()()(),_(23,le,3,1,"div",16),a(),l(24,"button",17),u(25),c(26,"translate"),_(27,de,1,0,"span",18),a()(),_(28,pe,2,1,"p",19)(29,ue,2,1,"p",20),a()()}if(r&2){let n,p,o,f;i(3),m(" ",h(4,12,"change.Change Password"),": "),i(2),x("formGroup",t.changePassForm),i(3),x("ngClass",A(20,te,!((n=t.changePassForm.get("password"))!=null&&n.errors)&&(((n=t.changePassForm.get("password"))==null?null:n.touched)||((n=t.changePassForm.get("password"))==null?null:n.dirty)),((n=t.changePassForm.get("password"))==null?null:n.errors)&&(((n=t.changePassForm.get("password"))==null?null:n.touched)||((n=t.changePassForm.get("password"))==null?null:n.dirty)))),i(),S("placeholder",h(11,14,"change.Type Your password")),i(5),g(14,(p=t.changePassForm.get("password"))!=null&&p.errors&&((p=t.changePassForm.get("password"))!=null&&p.touched||(p=t.changePassForm.get("password"))!=null&&p.dirty)?14:-1),i(3),x("ngClass",A(23,se,!((o=t.changePassForm.get("newPassword"))!=null&&o.errors)&&(((o=t.changePassForm.get("newPassword"))==null?null:o.touched)||((o=t.changePassForm.get("newPassword"))==null?null:o.dirty)),((o=t.changePassForm.get("newPassword"))==null?null:o.errors)&&(((o=t.changePassForm.get("newPassword"))==null?null:o.touched)||((o=t.changePassForm.get("newPassword"))==null?null:o.dirty)))),i(),S("placeholder",h(20,16,"change.Type Your New  Password")),i(5),g(23,(f=t.changePassForm.get("newPassword"))!=null&&f.errors&&((f=t.changePassForm.get("newPassword"))!=null&&f.touched||(f=t.changePassForm.get("newPassword"))!=null&&f.dirty)?23:-1),i(2),m(" ",h(26,18,"change.Sigin In")," "),i(2),g(27,t.isloading?27:-1),i(),g(28,t.messgerror?28:-1),i(),g(29,t.messsuccess?29:-1)}},dependencies:[Y,G,Q,N,O,$,j,L,J,H]})}}return e})();export{Fe as ForgetpasswordComponent};
