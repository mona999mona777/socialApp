import{a as H}from"./chunk-5E2UCTCB.js";import{f as N,g as q}from"./chunk-CK2VLTDO.js";import{a as O,b as w,c as Q,d as G,i as j,k as Y,l as $,m as z,o as Z}from"./chunk-6H6Y5CQX.js";import{a as U}from"./chunk-7QNPCXHN.js";import"./chunk-X2P3I5TM.js";import{Eb as P,Fb as T,Gb as u,Hb as m,Ja as n,Oa as D,T as _,W as B,Ya as f,Zb as V,ab as x,dc as I,ea as b,eb as h,fa as C,hb as l,ib as r,jb as S,jc as J,kb as M,kc as K,lb as E,mb as y,pb as R,ra as F,ub as A,vb as k,wb as L,xb as d,zb as p}from"./chunk-BHZUFO2F.js";import"./chunk-TMC7WMLO.js";var X=["inputPassword"],ee=["passIcon"],W=(e,c)=>({"bg-green-100 ":e,"bg-red-100":c});function te(e,c){e&1&&(l(0,"p",23),d(1),u(2,"translate"),r()),e&2&&(n(),p("",m(2,1,"login.email is required"),"."))}function ie(e,c){e&1&&(l(0,"p",23),d(1),u(2,"translate"),r()),e&2&&(n(),p("",m(2,1,"login.enter valid email"),"."))}function ne(e,c){if(e&1&&(l(0,"div",12),f(1,te,3,3,"p",23)(2,ie,3,3),r()),e&2){let i,a=y();n(),h(1,(i=a.login.get("email"))!=null&&i.getError("required")?1:(i=a.login.get("email"))!=null&&i.getError("email")?2:-1)}}function oe(e,c){e&1&&(l(0,"p",23),d(1),u(2,"translate"),r()),e&2&&(n(),p("",m(2,1,"login.password is required"),"."))}function re(e,c){e&1&&(l(0,"p",23),d(1),u(2,"translate"),r()),e&2&&(n(),p(" ",m(2,1,"change.enter valid password. (8 char. at least one capital letter and on special letter)")," "))}function le(e,c){if(e&1&&(l(0,"div",12),f(1,oe,3,3,"p",23)(2,re,3,3),r()),e&2){let i,a=y();n(),h(1,(i=a.login.get("password"))!=null&&i.getError("required")?1:(i=a.login.get("password"))!=null&&i.getError("pattern")?2:-1)}}function ae(e,c){e&1&&S(0,"span",18)}function se(e,c){if(e&1&&(l(0,"p",21),d(1),r()),e&2){let i=y();n(),p(" ",i.messgerror," ")}}function de(e,c){if(e&1&&(l(0,"p",22),d(1),r()),e&2){let i=y();n(),p(" ",i.messsuccess," ")}}var Ce=(()=>{class e{constructor(){this._AuthService=_(H),this._FormBuilder=_(z),this._Router=_(N),this._PLATFORM_ID=_(F),this._MytranslateService=_(U),this._Renderer2=_(D),this.messgerror="",this.messsuccess="",this.isloading=!1,this.login=this._FormBuilder.group({email:[null,[w.required,w.email]],password:[null,[w.required,w.pattern(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/)]]})}ngOnInit(){I(this._PLATFORM_ID)&&localStorage.getItem("socialAppDarkMode")!=null&&this._Renderer2.addClass(document.documentElement,"dark"),I(this._PLATFORM_ID)&&localStorage.getItem("lang")!=null&&this._MytranslateService.useChoiceLang()}loginfunction(){this.login.valid?(this.isloading=!0,this.unsub=this._AuthService.singIn(this.login.value).subscribe({next:i=>{this.messsuccess=i.message,this.messgerror="",this.isloading=!1,localStorage.setItem("socialAppToken",i.token),i.message=="success"&&setTimeout(()=>{this._Router.navigate(["/Timeline"])},1e3)},error:i=>{console.log(i),this.isloading=!1,this.messgerror=i.error.error,this.messsuccess=""}})):this.login.markAllAsTouched()}showPassword(){this.passIcon.nativeElement.classList.contains("fa-eye-slash")==!0?(this._Renderer2.removeClass(document.getElementById("pass"),"fa-eye-slash"),this._Renderer2.addClass(document.getElementById("pass"),"fa-eye"),this._Renderer2.removeAttribute(this.inputpassword.nativeElement,"type","password"),this._Renderer2.setAttribute(this.inputpassword.nativeElement,"type","text"),localStorage.setItem("icona","fa-eye")):this.passIcon.nativeElement.classList.contains("fa-eye")==!0&&(this._Renderer2.removeClass(document.getElementById("pass"),"fa-eye"),this._Renderer2.addClass(document.getElementById("pass"),"fa-eye-slash"),this._Renderer2.removeAttribute(this.inputpassword.nativeElement,"type","text"),this._Renderer2.setAttribute(this.inputpassword.nativeElement,"type","password"),localStorage.setItem("icona","fa-eye-slash"))}inputfunc(i){let a=i.target;a.value.length==0&&(this._Renderer2.removeClass(document.getElementById("pass"),"fa-eye-slash"),this._Renderer2.removeClass(document.getElementById("pass"),"fa-eye"),this._Renderer2.setAttribute(this.inputpassword.nativeElement,"type","password"),this._Renderer2.removeAttribute(this.inputpassword.nativeElement,"type","text")),a.value.length>0&&I(this._PLATFORM_ID)&&(localStorage.getItem("icona")!=null&&(this.icon=localStorage.getItem("icona"),this.icon=="fa-eye"&&(this._Renderer2.addClass(document.getElementById("pass"),"fa-eye"),this._Renderer2.removeAttribute(this.inputpassword.nativeElement,"type","password"),this._Renderer2.setAttribute(this.inputpassword.nativeElement,"type","text")),this.icon=="fa-eye-slash"&&(this._Renderer2.addClass(document.getElementById("pass"),"fa-eye-slash"),this._Renderer2.removeAttribute(this.inputpassword.nativeElement,"type","text"),this._Renderer2.setAttribute(this.inputpassword.nativeElement,"type","password"))),localStorage.getItem("icona")==null&&(this._Renderer2.addClass(document.getElementById("pass"),"fa-eye-slash"),this._Renderer2.removeAttribute(this.inputpassword.nativeElement,"type","text"),this._Renderer2.setAttribute(this.inputpassword.nativeElement,"type","password")))}ngOnDestroy(){this.unsub?.unsubscribe()}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275cmp=B({type:e,selectors:[["app-login"]],viewQuery:function(a,t){if(a&1&&(A(X,5),A(ee,5)),a&2){let o;k(o=L())&&(t.inputpassword=o.first),k(o=L())&&(t.passIcon=o.first)}},standalone:!0,features:[P],decls:40,vars:38,consts:[["inputPassword",""],["passIcon",""],[1,"dark:bg-[#1C1C1D]","w-full","h-[100vh]","pt-5","overflow-y-scroll","overflow-hidden","flex","items-center","justify-center"],[1,"grid","md:grid-cols-2","gap-4","mt-5","w-3/4"],[1,"text-center","md:text-start"],[1,"text-blue-600","font-bold","text-6xl","py-4"],[1,"text-slate-700","dark:text-white","mb-3","md:text-xl","font-bold"],[1,"border","border-sky-950","px-3","py-5","shadow","my-2","rounded-xl","w-full","mx-auto","dark:bg-[#1C1C1D]","dark:border","dark:border-gray-600"],[1,"text-slate-700","text-3xl","font-bold","dark:text-white"],[3,"ngSubmit","formGroup"],[1,"my-4"],["id","email","type","email","formControlName","email",1,"w-full","rounded","input-mail",3,"ngClass","placeholder"],["role","alert",1,"border","border-red-500","bg-red-200","rounded","text-red-700","p-3","my-2"],["id","input-fack",1,"bg-white","rounded"],[1,"rounded",3,"ngClass"],["id","password","type","password","formControlName","password",1,"w-[95%]","bg-transparent","inputp",3,"input","placeholder"],["id","pass",1,"fas","text-lg",3,"click"],["type","submit",1,"bg-blue-600","border","border-blue-600","py-3","hover:bg-blue-700","px-7","text-slate-50","rounded","block","w-full","mb-3"],[1,"fas","fa-spin","fa-spinner"],[1,"register-btn","border-t","border-sky-950","dark:border-gray-600","pt-3"],["type","button","routerLink","/register","routerLinkActive","router-link-active",1,"bg-[#119F16]","border","border-[#119F16]","hover:bg-[#2d8230]","py-3","px-7","text-slate-50","rounded","mx-auto","block","font-bold"],["role","alert",1,"text-center","bg-red-200","rounded","text-red-700","p-3","my-2","w-1/2","mx-auto"],["role","alert",1,"text-center","bg-green-200","rounded","text-green-700","p-3","my-2","w-1/2","mx-auto"],[1,"m-0"]],template:function(a,t){if(a&1){let o=M();l(0,"section",2)(1,"div",3)(2,"div",4)(3,"h1",5),d(4),u(5,"translate"),r(),l(6,"p",6),d(7),u(8,"translate"),r(),l(9,"p",6),d(10),u(11,"translate"),r()(),l(12,"section",7)(13,"h2",8),d(14),u(15,"translate"),r(),l(16,"form",9),E("ngSubmit",function(){return b(o),C(t.loginfunction())}),l(17,"div",10),S(18,"input",11),u(19,"translate"),f(20,ne,3,1,"div",12),r(),l(21,"div",10)(22,"div",13)(23,"div",14)(24,"input",15,0),u(26,"translate"),E("input",function(s){return b(o),C(t.inputfunc(s))}),r(),l(27,"i",16,1),E("click",function(){return b(o),C(t.showPassword())}),r()()(),f(29,le,3,1,"div",12),r(),l(30,"button",17),d(31),u(32,"translate"),f(33,ae,1,0,"span",18),r(),l(34,"div",19)(35,"button",20),d(36),u(37,"translate"),r()()(),f(38,se,2,1,"p",21)(39,de,2,1,"p",22),r()()()}if(a&2){let o,g,s,v;n(4),p(" ",m(5,16,"navbar.facebook")," "),n(3),p(" ",m(8,18,"login.Facebook gives you the ability to connect with pepole")," "),n(3),p(" ",m(11,20,"login.And share what you want with them.")," "),n(4),p(" ",m(15,22,"login.login Now")," "),n(2),x("formGroup",t.login),n(2),R("placeholder",m(19,24,"login.Type Your Email")),x("ngClass",T(32,W,!((o=t.login.get("email"))!=null&&o.errors)&&(((o=t.login.get("email"))==null?null:o.touched)||((o=t.login.get("email"))==null?null:o.dirty)),((o=t.login.get("email"))==null?null:o.errors)&&(((o=t.login.get("email"))==null?null:o.touched)||((o=t.login.get("email"))==null?null:o.dirty)))),n(2),h(20,(g=t.login.get("email"))!=null&&g.errors&&((g=t.login.get("email"))!=null&&g.touched||(g=t.login.get("email"))!=null&&g.dirty)?20:-1),n(3),x("ngClass",T(35,W,!((s=t.login.get("password"))!=null&&s.errors)&&(((s=t.login.get("password"))==null?null:s.touched)||((s=t.login.get("password"))==null?null:s.dirty)),((s=t.login.get("password"))==null?null:s.errors)&&(((s=t.login.get("password"))==null?null:s.touched)||((s=t.login.get("password"))==null?null:s.dirty)))),n(),R("placeholder",m(26,26,"login.Type Your Password")),n(5),h(29,(v=t.login.get("password"))!=null&&v.errors&&((v=t.login.get("password"))!=null&&v.touched||(v=t.login.get("password"))!=null&&v.dirty)?29:-1),n(2),p(" ",m(32,28,"change.Sigin In")," "),n(2),h(33,t.isloading?33:-1),n(3),p(" ",m(37,30,"login.Create Account"),"? "),n(2),h(38,t.messgerror?38:-1),n(),h(39,t.messsuccess?39:-1)}},dependencies:[Z,j,O,Q,G,Y,$,V,q,K,J]})}}return e})();export{Ce as LoginComponent};
